{"version":3,"sources":["webpack:////Users/yaoyuan/yy/my/mis-app/main.js","webpack:////Users/yaoyuan/yy/my/mis-app/pages/user/signature.vue?d197","webpack:////Users/yaoyuan/yy/my/mis-app/pages/user/signature.vue?3bc8","webpack:////Users/yaoyuan/yy/my/mis-app/pages/user/signature.vue?4b62","webpack:////Users/yaoyuan/yy/my/mis-app/pages/user/signature.vue?6430","webpack:////Users/yaoyuan/yy/my/mis-app/pages/user/signature.vue","webpack:////Users/yaoyuan/yy/my/mis-app/pages/user/signature.vue?af68","webpack:////Users/yaoyuan/yy/my/mis-app/pages/user/signature.vue?64e1"],"names":["createPage","Page","content","touchs","canvasw","canvash","_that","uni","getSystemInfo","success","res","windowWidth","windowHeight","data","signImage","oldImage","isEnd","methods","overSign","canvasGetImageData","canvasId","x","y","width","height","canvasToTempFilePath","showLoading","title","mask","global","$http","upload","name","filePath","tempFilePath","then","status","post","sign","re","hideLoading","showToast","icon","msg","catch","err","message","start","event","point","changedTouches","push","move","e","touches","length","draw","end","i","pop","cancel","tap","error","point1","point2","shift","moveTo","lineTo","stroke","clearClick","clearRect","onLoad","options","wx","createCanvasContext","setStrokeStyle","setLineWidth","setLineCap","setLineJoin","query","createSelectorQuery","in","select","boundingClientRect","drawImage","exec"],"mappings":"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","file":"pages/user/signature.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/user/signature.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./signature.vue?vue&type=template&id=6bb38c6b&scoped=true&\"\nvar renderjs\nimport script from \"./signature.vue?vue&type=script&lang=js&\"\nexport * from \"./signature.vue?vue&type=script&lang=js&\"\nimport style0 from \"./signature.vue?vue&type=style&index=0&id=6bb38c6b&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6bb38c6b\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('6bb38c6b')) {\n      api.createRecord('6bb38c6b', component.options)\n    } else {\n      api.reload('6bb38c6b', component.options)\n    }\n    module.hot.accept(\"./signature.vue?vue&type=template&id=6bb38c6b&scoped=true&\", function () {\n      api.rerender('6bb38c6b', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/yaoyuan/yy/my/mis-app/pages/user/signature.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./signature.vue?vue&type=template&id=6bb38c6b&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./signature.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./signature.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar content = null;\nvar touchs = [];\nvar canvasw = 0;\nvar canvash = 0;\nvar _that;\n//获取系统信息\nuni.getSystemInfo({\n\tsuccess: function(res) {\n\t\tcanvasw = res.windowWidth;\n\t\tcanvash = res.windowHeight;\n\t},\n})\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tdata: null,\n\t\t\tsignImage: '',\n\t\t\toldImage: '',\n\t\t\tisEnd: false // 是否签名\n\t\t}\n\t},\n\tmethods: {\n\t\toverSign: function() {\n\t\t\tif (this.isEnd) {\n\t\t\t\tuni.canvasGetImageData({\n\t\t\t\t\tcanvasId: 'firstCanvas',\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\twidth: 500,\n\t\t\t\t\theight: 200,\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t_that.data = res.data;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tuni.canvasToTempFilePath({\n\t\t\t\t\tcanvasId: 'firstCanvas',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t//上传图片\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '保存中',\n\t\t\t\t\t\t\tmask: false\n\t\t\t\t\t\t});\n\t\t\t\t\t\tglobal.$http.upload('/oos/upload', {\n\t\t\t\t\t\t\tname: 'file',\n\t\t\t\t\t\t\tfilePath: res.tempFilePath\n\t\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\t\tif (res.status === \"0\") {\n\t\t\t\t\t\t\t\t_that.signImage = res.data;\n\t\t\t\t\t\t\t\tglobal.$http.post('/core/user/addSign', {\n\t\t\t\t\t\t\t\t\tsign: _that.signImage\n\t\t\t\t\t\t\t\t}).then(re => {\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\tif (re.status === \"0\") {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\ttitle: '保存成功'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: re.msg,\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: err.message,\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: res.msg,\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: err.message,\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"请先完成签名\",\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\t// 画布的触摸移动开始手势响应\n\t\tstart: function(event) {\n\t\t\t//获取触摸开始的 x,y\n\t\t\tlet point = {\n\t\t\t\tx: event.changedTouches[0].x,\n\t\t\t\ty: event.changedTouches[0].y\n\t\t\t}\n\t\t\t// console.log(point)\n\t\t\ttouchs.push(point);\n\n\t\t},\n\t\t// 画布的触摸移动手势响应\n\t\tmove: function(e) {\n\t\t\tlet point = {\n\t\t\t\tx: e.touches[0].x,\n\t\t\t\ty: e.touches[0].y\n\t\t\t}\n\t\t\t// console.log(point)\n\t\t\ttouchs.push(point)\n\t\t\tif (touchs.length >= 2) {\n\t\t\t\tthis.draw(touchs)\n\t\t\t}\n\t\t},\n\n\t\t// 画布的触摸移动结束手势响应\n\t\tend: function(e) {\n\t\t\t// 设置为已经签名\n\t\t\tthis.isEnd = true\n\t\t\t// 清空轨迹数组\n\t\t\tfor (let i = 0; i < touchs.length; i++) {\n\t\t\t\ttouchs.pop()\n\t\t\t}\n\n\t\t},\n\n\t\t// 画布的触摸取消响应\n\t\tcancel: function(e) {\n\n\t\t},\n\n\t\t// 画布的长按手势响应\n\t\ttap: function(e) {\n\n\t\t},\n\n\t\terror: function(e) {\n\n\t\t},\n\n\t\t//绘制\n\t\tdraw: function(touchs) {\n\t\t\tlet point1 = touchs[0]\n\t\t\tlet point2 = touchs[1]\n\t\t\ttouchs.shift()\n\t\t\tcontent.moveTo(point1.x, point1.y)\n\t\t\tcontent.lineTo(point2.x, point2.y)\n\t\t\tcontent.stroke()\n\t\t\tcontent.draw(true)\n\t\t},\n\t\t//清除操作\n\t\tclearClick: function() {\n\t\t\t// 设置为未签名\n\t\t\tthis.isEnd = false;\n\t\t\t//清除画布\n\t\t\tcontent.clearRect(0, 0, canvasw, canvash);\n\t\t\tcontent.draw(true);\n\t\t\t// uni.canvasPutImageData({\n\t\t\t// \tcanvasId: 'firstCanvas',\n\t\t\t// \tx: 0,\n\t\t\t// \ty: 0,\n\t\t\t// \twidth: 500,\n\t\t\t// \theight: 200,\n\t\t\t// \tdata: _that.data,\n\t\t\t// \tsuccess(res) {\n\t\t\t// \t\t//content.draw(true);\n\t\t\t// \t},\n\t\t\t// \tfail(res) {\n\t\t\t// \t\tconsole.log(res);\n\t\t\t// \t}\n\t\t\t// });\n\t\t},\n\t},\n\t/**\n\t * 生命周期函数--监听页面加载\n\t */\n\tonLoad: function(options) {\n\t\t_that = this;\n\t\t//获得Canvas的上下文\n\t\tcontent = wx.createCanvasContext('firstCanvas');\n\t\t//设置线的颜色\n\t\tcontent.setStrokeStyle(\"#000\");\n\t\t//设置线的宽度\n\t\tcontent.setLineWidth(5);\n\t\t//设置线两端端点样式更加圆润\n\t\tcontent.setLineCap('round');\n\t\t//设置两条线连接处更加圆润\n\t\tcontent.setLineJoin('round');\n\t\t\n\t\tuni.showLoading({\n\t\t\ttitle: '加载中',\n\t\t\tmask: false\n\t\t});\n\t\tglobal.$http.post('/core/user/getSign', {\n\t\t\t\n\t\t}).then(res => {\n\t\t\tuni.hideLoading();\n\t\t\tif (res.status === \"0\") {\n\t\t\t\tif(res.data && res.data.length > 0){\n\t\t\t\t\tconst query = uni.createSelectorQuery().in(_that);\n\t\t\t\t\tquery.select('.firstCanvas').boundingClientRect(data => {\n\t\t\t\t\t\tcontent.drawImage(res.data, 0, 0, data.width, data.height);\n\t\t\t\t\t\tcontent.draw();\n\t\t\t\t\t}).exec();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: res.msg,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch(err => {\n\t\t\tuni.hideLoading();\n\t\t\tuni.showToast({\n\t\t\t\ttitle: err.message,\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t});\n\t},\n\n}\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./signature.vue?vue&type=style&index=0&id=6bb38c6b&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./signature.vue?vue&type=style&index=0&id=6bb38c6b&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}