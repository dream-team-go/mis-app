(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/work/dispatchUseCarDetail"],{1389:function(t,n,e){"use strict";e.r(n);var o=e("d410"),a=e.n(o);for(var i in o)"default"!==i&&function(t){e.d(n,t,function(){return o[t]})}(i);n["default"]=a.a},"70b2":function(t,n,e){"use strict";var o,a=function(){var t=this,n=t.$createElement,e=(t._self._c,t.__map(t.list,function(n,e){var o=t.getStatusStr(n.status),a=t.getTitle(n.total_fee);return{$orig:t.__get_orig(n),m0:o,m1:a}}));t.$mp.data=Object.assign({},{$root:{l0:e}})},i=[];e.d(n,"b",function(){return a}),e.d(n,"c",function(){return i}),e.d(n,"a",function(){return o})},"76eb":function(t,n,e){"use strict";(function(t){e("584b"),e("921b");o(e("66fd"));var n=o(e("ef44"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("6e42")["createPage"])},d410:function(t,n,e){"use strict";(function(t,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("1bb4"));function i(t){return t&&t.__esModule?t:{default:t}}var s=function(){return Promise.all([e.e("common/vendor"),e.e("colorui/components/uni-collapse")]).then(e.bind(null,"144b"))},c=function(){return Promise.all([e.e("common/vendor"),e.e("colorui/components/uni-collapse-item")]).then(e.bind(null,"52ad"))},r={components:{uniCollapse:s,uniCollapseItem:c},data:function(){return{stars:[1,2,3,4,5],info:{},list:[]}},onLoad:function(n){var e=this,a=JSON.parse(decodeURIComponent(n.para));this.info=a,this.info.status>=2&&t.$http.post("/car/dispatch/getListByDispatch",{params:{order_code:this.info.order_code}}).then(function(t){"0"===t.status?e.list=t.data:o.showToast({title:t.msg,icon:"none"})}).catch(function(t){o.showToast({title:t.message,icon:"none"})})},methods:{getCarListData:function(){var n=this;this.status="loading",t.$http.post("/car/dispatch/dispatchCarList",{params:{order_code:this.info.order_code,page:this.page,pageSize:this.pageSize}}).then(function(t){"0"===t.status?(n.status="noMore",n.cars=t.data):o.showToast({title:t.msg,icon:"none"})}).catch(function(t){o.showToast({title:t.message,icon:"none"})})},getDriverListData:function(){var n=this;this.status="loading",t.$http.post("/car/dispatch/dispatchDriverList",{params:{order_code:this.info.order_code,page:this.page,pageSize:this.pageSize}}).then(function(t){"0"===t.status?(n.status="noMore",n.drivers=t.data):o.showToast({title:t.msg,icon:"none"})}).catch(function(t){o.showToast({title:t.message,icon:"none"})})},getTitle:function(t){return"总费用(元)："+t},getStatusStr:function(t){return a.default.DispatchRecordEnumMap.get(t)},sureSettle:function(n){var e=this;o.showModal({title:"提示",content:"确认结算该派车单？",showCancel:!0,cancelText:"取消",confirmText:"确定",success:function(a){a.cancel||(o.showLoading({title:"提交中",mask:!1}),t.$http.post("/car/dispatch/sureAccount",{params:{dispatch_id:n.id}}).then(function(t){o.hideLoading(),"0"===t.status?(o.showToast({title:"提交成功",icon:"none"}),e.list.forEach(function(t){t.id!=n.id||(t.status=4)})):o.showToast({title:t.msg,icon:"none"})}).catch(function(t){o.hideLoading(),o.showToast({title:t.message,icon:"none"})}))},fail:function(){},complete:function(){}})}}};n.default=r}).call(this,e("c8ba"),e("6e42")["default"])},ef44:function(t,n,e){"use strict";e.r(n);var o=e("70b2"),a=e("1389");for(var i in a)"default"!==i&&function(t){e.d(n,t,function(){return a[t]})}(i);var s,c=e("f0c5"),r=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);n["default"]=r.exports}},[["76eb","common/runtime","common/vendor"]]]);