(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/work/foodRecordDetail"],{"07be":function(t,o,e){"use strict";(function(t){e("584b"),e("921b");n(e("66fd"));var o=n(e("8bac"));function n(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,e("6e42")["createPage"])},"26fa":function(t,o,e){"use strict";var n=e("dc7e"),i=e.n(n);i.a},"5f5b":function(t,o,e){"use strict";(function(t,n){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=s(e("1bb4"));function s(t){return t&&t.__esModule?t:{default:t}}var a={data:function(){return{StatusEnumMap:i.default.FoodRecordEnumMap,steps:[],color:"",info:{},showModal:!1,failReason:""}},onLoad:function(o){var e=this;t.$http.post("/dining/record/recordInfo",{params:{record_id:o.id}}).then(function(t){if("0"===t.status){e.info=t.data,0===e.info.status?e.color="text-cyan":-2===e.info.status?e.color="text-orange":-1===e.info.status?e.color="text-red":1===e.info.status&&(e.color="text-green");var o=!1;i.default.FoodRecordEnumMap.forEach(function(t,n,i){var s="",a="";o&&n!=e.info.status||(a=e.color),n==e.info.status&&(o=!0),0===n?s="usefullfill":-2===n?s="radioboxfill":-1===n?s="roundclosefill":1===n&&(s="roundcheckfill"),e.steps.push({cuIcon:s,name:t,key:n,color:a})})}else n.showToast({title:t.msg,icon:"none"})}).catch(function(t){n.showToast({title:t.message,icon:"none"})})},methods:{verify:function(o,e){var i=this;n.showLoading({title:"提交中",mask:!1}),t.$http.post("/dining/record/sureRecord",{params:{record_id:this.info.id,status:o,fail_reason:e}}).then(function(t){n.hideLoading(),"0"===t.status?(n.showToast({title:"提交成功",icon:"none"}),i.info.status=o,1==o?(i.steps[0].color="text-green",i.steps[1].color="text-green",i.steps[2].color="text-green",i.steps[3].color="text-green"):(i.steps[0].color="text-red",i.steps[1].color="text-red",i.steps[2].color="text-red"),i.info.fail_reason=e):n.showToast({title:t.msg,icon:"none"})}).catch(function(t){n.hideLoading(),n.showToast({title:t.message,icon:"none"})})},verifySuccess:function(){var t=this;n.showModal({title:"提示",content:"确定确认预定？",showCancel:!0,cancelText:"取消",confirmText:"确定",success:function(o){o.cancel||t.verify(1,"")},fail:function(){},complete:function(){}})},verifyFail:function(){this.showModal=!0},hideModal:function(){this.showModal=!1},fillFailReason:function(t){this.failReason=t.detail.value},sureModal:function(){this.failReason.length<=0?n.showToast({title:"请填写不通过原因",icon:"none"}):(this.verify(-1,this.failReason),this.showModal=!1)}}};o.default=a}).call(this,e("c8ba"),e("6e42")["default"])},"7b03":function(t,o,e){"use strict";var n,i=function(){var t=this,o=t.$createElement;t._self._c},s=[];e.d(o,"b",function(){return i}),e.d(o,"c",function(){return s}),e.d(o,"a",function(){return n})},"8bac":function(t,o,e){"use strict";e.r(o);var n=e("7b03"),i=e("b070");for(var s in i)"default"!==s&&function(t){e.d(o,t,function(){return i[t]})}(s);e("26fa");var a,c=e("f0c5"),r=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"3073ba70",null,!1,n["a"],a);o["default"]=r.exports},b070:function(t,o,e){"use strict";e.r(o);var n=e("5f5b"),i=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(o,t,function(){return n[t]})}(s);o["default"]=i.a},dc7e:function(t,o,e){}},[["07be","common/runtime","common/vendor"]]]);